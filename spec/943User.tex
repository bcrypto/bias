\hiddensection{Стандартные утверждения о пользователе}\label{CLAIMS.User}

\subsection{Утверждение \lstinline{name}}\label{CLAIMS.Name}

Утверждение \lstinline{name} содержит полное имя пользователя, все его части.

Части имени упорядочиваются в соответствии с региональными настройками и 
предпочтениями.

\subsection{Утверждение \lstinline{given_name}}\label{CLAIMS.GivenName}

Утверждение \lstinline{given_name} содержит собственное имя пользователя.

У пользователя может быть несколько собственных имен, все они могут быть 
перечислены через пробел.

\subsection{Утверждение \lstinline{family_name}}\label{CLAIMS.FamilyName}

Утверждение \lstinline{family_name} содержит фамилию пользователя.

У пользователя может быть несколько фамилий, все они могут быть 
перечислены через пробел. Фамилия может отсутствовать.

\subsection{Утверждение \lstinline{middle_name}}\label{CLAIMS.MiddleName}

Утверждение \lstinline{middle_name} содержит отчество пользователя.

У пользователя может быть несколько отчеств, все они могут быть 
перечислены через пробел. Отчество может отсутствовать.

\subsection{Утверждение \lstinline{nickname}}\label{CLAIMS.Nickname}

Утверждение \lstinline{nickname} содержит неофициальное имя пользователя.
Это имя может совпадать c \lstinline{given_name} (\texttt{"Виктор"}) 
или отличаться от него (\texttt{"Витя"}).

\subsection{Утверждение \lstinline{preferred_username}}
\label{CLAIMS.PreferredUsername} 

Утверждение \lstinline{preferred_username} содержит сокращенное имя 
пользователя, которое пользователь предпочитает использовать при взаимодействии 
с ПС. Например, \lstinline{"v.mitskevich"} или \lstinline{"vicm"}.

В качестве \lstinline{preferred_username} может использоваться любая 
строка JSON, в том числе с пробелами, специальными символами 
\lstinline{"@"}, \lstinline{"/"} и др.

ПС не должна полагаться на уникальность \lstinline{preferred_username}.

\subsection{Утверждение \lstinline{profile}}\label{CLAIMS.Profile}

Утверждение \lstinline{profile} содержит сетевой адрес (URL) веб-страницы
с профайлом пользователя. 

Следует ссылаться на страницу, которая действительно касается пользователя.

\subsection{Утверждение \lstinline{picture}}\label{CLAIMS.Picture}

Утверждение \lstinline{picture} содержит сетевой адрес (URL) файла с 
с фотографией пользователя. 

Следует ссылаться на файл графического формата (PNG, JPEG, GIF и др.),
а не на веб-страницу, в которую встроена фотография.
%
Следует использовать фотографии, которые действительно представляют 
пользователя, и избегать неформальных фотографий, выбранных пользователем.

\subsection{Утверждение \lstinline{website}}\label{CLAIMS.Website}

Утверждение \lstinline{website} содержит сетевой адрес (URL) личной 
веб-страницы пользователя или его блога.

Следует давать ссылки на Интернет-ресурсы, информация на которых публикуется 
пользователем или его организацией.

\subsection{Утверждение \lstinline{email}}\label{CLAIMS.Email}

Утверждение \lstinline{email} определяет предпочтительный адрес электронной 
почты пользователя.

Адрес должен быть задан в формате \lstinline{addr-spec}, определенном 
в~\cite{RFC5322}.

ПС не должна полагаться на уникальность \lstinline{email}.

\subsection{Утверждение \lstinline{email_verified}}\label{CLAIMS.EmailVerified}

Утверждение \lstinline{email_verified} содержит признак проверки адреса
электронной почты пользователя, указанного в утверждении \lstinline{email}.
%
Положительный признак означает, что СИ выполнила определенные действия и
убедилась, что пользователь действительно владел адресом в момент проверки
(например, ответил на электронное письмо).
%
Способ проверки определяется за пределами настоящего стандарта с учетом 
специфики инфраструктуры аутентификации.  

Признак проверки должен быть задан булевым значением JSON
(\lstinline{true} или \lstinline{false}).

\subsection{Утверждение \lstinline{gender}}\label{CLAIMS.Gender}

Утверждение \lstinline{gender} определяет пол пользователя. 

Пол \lstinline{gender} должен принимать значения 
\lstinline{"male"} (мужской), \lstinline{"female"} (женский)
и другие, определяемые за пределами настоящего стандарта.

\subsection{Утверждение \lstinline{birthdate}}\label{CLAIMS.Birthdate}

Утверждение \lstinline{birthdate} содержит дату рождения пользователя. 

Дата рождения должна задаваться в формате \lstinline{"YYYYMMDD"},
где \lstinline{YYYY}~--- четыре цифры года, \lstinline{MM}~--- две цифры номера 
месяца, \lstinline{DD}~--- две цифры дня месяца.
%
Год может принимать значение \lstinline{"0000"}, что означает, что он опущен. 
%
Если требуется указать только год рождения, то должен использоваться формат 
\lstinline{"YYYY"}. 

\subsection{Утверждение \lstinline{zoneinfo}}\label{CLAIMS.ZoneInfo}

Утверждение \lstinline{zoneinfo} определяет часовой пояс пользователя.

Часовой пояс должен задаваться строкой из базы данных часовых 
поясов~\cite{RFC6557}. Например, \lstinline{"Europe/Minsk"}.

\subsection{Утверждение \lstinline{locale}}\label{CLAIMS.Locale}

Утверждение \lstinline{locale} определяет локализацию пользователя
в виде тега языка согласно~\cite{RFC5646}.

Обычно локализация задается строкой из двух кодов, разделенных тире: 
кода языка согласно~\cite{ISO639-1} в нижнем регистре и кода страны 
согласно~\cite{ISO3166-1} в верхнем регистре.
%
Например, \lstinline{"ru-BLR"}. 

В некоторых случаях в качестве разделителя вместо тире используется знак 
подчеркивания: \lstinline{"ru_BLR"}. ПС может использовать именно такой 
синтаксис.

\subsection{Утверждение \lstinline{phone_number}}\label{CLAIMS.PhoneNumber}

Утверждение \lstinline{phone_number} определяет предпочтительный номер телефона 
пользователя.

Номер рекомендуется представлять в формате, определенном в~\cite{E-164}. 
Например, \lstinline{"+375 17 200 0001"}. 
%
В номере в качестве разделителей могут использоваться пробелы и символы
\lstinline{"-"}, \lstinline{"."}, \lstinline{"("}, \lstinline{")"}.

Если номер телефона содержит расширение, то его рекомендуется
представлять в формате, определенном в~\cite{RFC3966}.
%
Например, \lstinline{"+375 17 200 0001; ext=3456"}.
%
% todo: заведомо несуществующий номер

\subsection{Утверждение \lstinline{phone_number_verified}}
\label{CLAIMS.PhoneNumberVerified}

Утверждение \lstinline{phone_number_verified} содержит признак проверки номера
телефона пользователя, указанного в утверждении \lstinline{phone_number}. 
%
Положительный признак означает, что СИ выполнила определенные действия и
убедилась, что пользователь действительно владел номером в момент проверки
(например, предъявил одноразовый пароль, отправленный в виде SMS).
%
Способ проверки определяется за пределами настоящего стандарта с учетом 
специфики инфраструктуры аутентификации.  

Для того чтобы проверка была завершена успешно, номер \lstinline{phone_number}, 
включая возможное расширение, должен соответствовать формату, определенному 
в~\cite{E-164,RFC3966}.  

Признак проверки должен быть задан булевым значением JSON
(\lstinline{true} или \lstinline{false}). 

\subsection{Утверждение \lstinline{address}}\label{CLAIMS.Address}

Утверждение \lstinline{address} определяет предпочтительный почтовый адрес пользователя. 

Адрес должен быть представлен объектом JSON, поля которого соответствуют тем 
или иным атрибутам адреса. Значениями полей являются строки JSON.

Предусмотрены следующие поля:
\begin{itemize}
\item
\lstinline{formatted}~---
полный почтовый адрес для отображения на экране или печати на конвертах.
%
В строке \lstinline{formatted} могут быть переносы. Они кодируются либо 
символом <<перенос строки>> (\lstinline{"\n"}), либо парой символов
<<возврат каретки, перенос строки>> (\lstinline{"\r\n"});

\item
\lstinline{street_address}~--- полный адрес улицы, включая
ее название, номер дома, номер квартиры и другие данные.
%
В строке \lstinline{street_address} могут быть переносы. Они кодируются так же,
как переносы в \lstinline{formatted};

\item
\lstinline{locality}~--- 
населенный пункт;

\item
\lstinline{region}~--- 
регион, область, район;
%
% todo: State, province, prefecture, or region component.

\item
\lstinline{postal_code}~--- 
почтовый индекс;

\item
\lstinline{country}~--- страна.
\end{itemize}

По соображениям приватности или из-за отсутствия полной информации 
в объект \lstinline{address} могут включаться только некоторые поля.

Полный адрес, который указывается в \lstinline{formatted},
позволяет не включать в \lstinline{address} другие поля.
%
Если все-таки некоторое из этих полей включается, 
то следует обеспечить соответствие его значения сведениям в 
\lstinline{formatted}. 

\subsection{Утверждение \lstinline{updated_at}}\label{CLAIMS.UpdatedAt}

Утверждение \lstinline{updated_at} определяет время последнего обновления 
информации о пользователе. 

Время последнего обновления должно задаваться в секундах, которые прошли, 
начиная с полуночи 1 января 1970 года по Гринвичу. Время должно кодироваться 
числом JSON.  


